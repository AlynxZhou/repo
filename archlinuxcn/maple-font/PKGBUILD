# Maintainer: Gavin Luo <lunt.luo@gmail.com>

pkgbase="maple-font"

pkgver=7.3
pkgrel=1
pkgdesc="Open source monospace font with round corner, ligatures and Nerd-Font for IDE and terminal. 带连字和控制台图标的圆角等宽字体，中英文宽度完美2:1。"
url="https://github.com/subframe7536/maple-font"
arch=("any")
license=("OFL-1.1")
makedepends=("unzip")

pkgname=()
source=()
noextract=()
sha256sums=('f8e0699316e80efbe33f9461f31a05507efa6b6dfb9e2946d0aa3531efd8830e'
            '3d59ad24b57db72a2368ce4221b43d33680e40f871e138ef6a6e2f54ed7f52a3'
            'a93efb7947aaf547a9b75009bb3e0abdb2657eabd4b68a0949e915a09529843d'
            'c3b8f5508f0e13809b373798e27d20dd62ad560909d3bb8ca519d1095448a3c3'
            '8365c7732d73a99fcce45c3a2500f689f5a63628d667372f4392ddb004094160'
            '13a858c554a1b0ff90ae0335c3a8630a2880aef41f7081c012f1bb58639ca5db'
            '2e73718862eda8ed87d353b6e4ddfa30bf4ac31a29f5f1fee08bd793554916fb'
            '2b7a23fe293ff5d9291fbb29d44817d764ecff3b1358538eba51b013693e7a7a'
            'd7043ded39b604df9b6b63b1a27c9ea2f9795252e8a18ad87e4ac0f390906663'
            'aafa61eb41335e49200cdfabbf1f2a1f720f007f6cfc8225dd6f256fa712379d'
            '7941e3d8d3a3b15bf0167876fdc85ab861067c15dee5fef178dd832e6f63e64a'
            '82a81ddb9664a7583f03977535391ac1bf299c5bfb2134f074ad4940cce27bdc'
            '7d94ccafd486b5a50927b1b020b4346a734cb12e972c316862a6c5d76683ecdd'
            'af5fbc8744e8b1d82e9b4da60d7410b68c706f2543f968ed02474f5d3ef861dd'
            '46e6ea0e636d82dbb31454c3f29e445753c8138cd416d3aab1b4fce1e77ea137'
            '40bc93aaecf95df77f0d9f4d116a8d98070ecc3ca25d5e0acde3cb87364a2fad'
            'ce8fefa06148ffcc13cde5e3f924f338f2bcc445794e79a98342d86de277be02'
            '88ad57961165332f149e361b9ed3a1bd9b4bdc19509860e4e58200c5f69a50a0'
            '299448ec83629eb837c87ac871f168fd96b7e9de7af73d9f5e32ac197057995f'
            'e06eb58e0558d8f7234b845107fb432ae8d9eeb0dd1b8e28e4e61224a41b6e81'
            'ea5c5df1b751116ee5a0e5339c041422f8e1b3ba7f2c3b03ea925b9382663695'
            '3af87afbe073f0289bf41707c60e52626e8d1e0287b97f4c5ba1db98f1ff2c9c'
            '05144849f036d4442f3549421b0362541919a43005fa2095f7d2ec609b2ebfd4'
            '4971b69e5069cae88530b502972979673a0fc55179c37dc98c2682e6d3c6ffcb'
            'd0467397609d76a876b4bb1f0dde553612707ae79924afca6aa3bd5549062c89'
            'fe7421b1fec0ca827ec6452e8d8f33e69ff15b23cb44e206b6949080cbe69587'
            'd8b96b11823dd861d12022df61b525f54f846dd01b0a38994970fbcf9bd10b8c'
            '509017143e0a566f256d9ccf31a130ac7d1d8af45fec7c62c43c6eacf1a4538e'
            'f7c3463fb6abbf0d56d9a90d5b078a2be39f5b5e15b5b17f7f2f289515dc00f0'
            '8fd986dd53380cff36ca7c34505b8c0d78dc6cc9ee54a39f27d1cc045aebbc39'
            '984249ff2e5a9a1301b7e32ba1250cb9a4ea1a0dcb51e6138809ffbc031fcb95'
            '2f05bde082407dd96d1b6c26262bfa26607c7cd75d75bfffc87b19bccbe5493a'
            '1ee1dc35e0b0fc012c49c2867224cae4ee51cfb7824b4865cdfcf965872a2f25'
            'bbb42a0e85adf8d660071147e03fd4f92ca208a10e6ca3ce87cf40f5f20da149'
            '2b7d22a344bf92aa4b0f768165c4ef54acb92066f3ab8dee893cca9b1120a56f'
            '458411df4d6d9c20fce6de5fe44ef0a535eb83a343c3776b27ce59eb3fd7a3af'
            '50381633107365a8ecd29ea506d016da36d912f30b6f81a9be674a84a594f96e'
            'bdfee95cdecdfbf1c0d6089ae2614624d24eb2b05d51fe6534a8bf0652e834dd'
            '56a288ea9202365519ff972980d45128d81e037c6050d6045438d40dbd34e92b'
            'b908ede8ae6cebed6c231467239d4f803c65c918bbc48b223596c83f785ab8dc'
            'd334b935da6721e3b071acfc46fd6c09679476359913c4a8179e26c8840a0051'
            '3aa6b608fb97aaa7a6c54477ed9f7c28ecf61160d76f12d2199529b10a4c7460'
            '91687a9fd9454a19a72cc134fb533668a3ab73ae16ad993a4a44134f60241035'
            'fc397a07961ae8158766acce1fbc1cb89993394b4ede3257896f37faf589a603')
_variant=("MapleMono-CN-unhinted"
          "MapleMono-CN"
          "MapleMono-NF-CN-unhinted"
          "MapleMono-NF-CN"
          "MapleMono-NF-unhinted"
          "MapleMono-NF"
          "MapleMono-OTF"
          "MapleMono-TTF-AutoHint"
          "MapleMono-TTF"
          "MapleMono-Variable"
          "MapleMono-Woff2"
          "MapleMonoNL-CN-unhinted"
          "MapleMonoNL-CN"
          "MapleMonoNL-NF-CN-unhinted"
          "MapleMonoNL-NF-CN"
          "MapleMonoNL-NF-unhinted"
          "MapleMonoNL-NF"
          "MapleMonoNL-OTF"
          "MapleMonoNL-TTF-AutoHint"
          "MapleMonoNL-TTF"
          "MapleMonoNL-Variable"
          "MapleMonoNL-Woff2"
          "MapleMonoNormal-CN-unhinted"
          "MapleMonoNormal-CN"
          "MapleMonoNormal-NF-CN-unhinted"
          "MapleMonoNormal-NF-CN"
          "MapleMonoNormal-NF-unhinted"
          "MapleMonoNormal-NF"
          "MapleMonoNormal-OTF"
          "MapleMonoNormal-TTF-AutoHint"
          "MapleMonoNormal-TTF"
          "MapleMonoNormal-Variable"
          "MapleMonoNormal-Woff2"
          "MapleMonoNormalNL-CN-unhinted"
          "MapleMonoNormalNL-CN"
          "MapleMonoNormalNL-NF-CN-unhinted"
          "MapleMonoNormalNL-NF-CN"
          "MapleMonoNormalNL-NF-unhinted"
          "MapleMonoNormalNL-NF"
          "MapleMonoNormalNL-OTF"
          "MapleMonoNormalNL-TTF-AutoHint"
          "MapleMonoNormalNL-TTF"
          "MapleMonoNormalNL-Variable"
          "MapleMonoNormalNL-Woff2")

for _var in "${_variant[@]}"; do
  if [[ "${_var}" == *"OTF"* ]]; then
    _pkgname="otf-${_var//-OTF/}"
  elif [[ "${_var}" == *"Woff2"* ]]; then
    _pkgname="woff2-${_var//-Woff2/}"
  else
    _pkgname="ttf-${_var//-TTF/}"
  fi
  _pkgname=${_pkgname,,}
  pkgname+=("${_pkgname}")

  if [[ "${_var}" == "MapleMono-TTF" ]]; then
    _replaces="ttf-maple"
  elif [[ "${_var}" == "MapleMonoNL-TTF-AutoHint" ]]; then
    _replaces="ttf-maple-autohint"
  elif [[ "${_var}" == "MapleMono-OTF" ]]; then
    _replaces="otf-maple"
  elif [[ "${_var}" == "MapleMono-Woff2" ]]; then
    _replaces="woff2-maple"
  elif [[ "${_var}" == "MapleMono-NF" ]]; then
    _replaces="ttf-maple-nerd"
  elif [[ "${_var}" == "MapleMono-NF-CN" ]]; then
    _replaces="ttf-maple-sc-nerd"
  else
    _replaces=""
  fi

  _filename="${_var}.zip"
  noextract+=("${_filename}")
  source+=("${url}/releases/download/v${pkgver}/${_filename}")

  eval "package_${_pkgname}() {
  replaces=(${_replaces})

  unzip "${_filename}" -d \${pkgname}

  install -d "\$pkgdir/usr/share/fonts/maple"
  install -Dm644 -t "\$pkgdir/usr/share/fonts/maple" \${pkgname}/Maple*

  install -d "\$pkgdir/usr/share/licenses/\${pkgname}"
  install -Dm644 -t "\$pkgdir/usr/share/licenses/\${pkgname}" \${pkgname}/LICENSE.txt
}"
done
